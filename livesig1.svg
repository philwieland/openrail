changequote(`[',`]')dnl
define([BUILD], [1A01n])dnl
define([BERTH], [<rect x="$1" y="eval(($2) - 6)" width="32" height="12" class="describer" id="$3b$4box" onmousemove="parent.tt_on(evt,'$5')" onmouseout="parent.tt_off(evt)"/><text x="eval(($1) + 10)"  y="eval(($2) + 4)" class="describer-text-off" id="$3b$4off" onmousemove="parent.tt_on(evt,'$5')" onmouseout="parent.tt_off(evt)">$4</text><text x="eval(($1) + 2)"  y="eval(($2) + 4)" class="describer-text" id="$3b$4" onmousemove="parent.tt_on(evt,'$5')" onmouseout="parent.tt_off(evt)">x</text>])dnl
define([BERTHL], [<polygon points="eval(($1) + 3),eval(($2) + 6) eval(($1) - 3),eval(($2) + 0) eval(($1) + 3),eval(($2) - 6) eval(($1) + 32),eval(($2) - 6) eval(($1) + 32),eval(($2) + 6) " class="describer" id="$3b$4box" onmousemove="parent.tt_on(evt,'$5')" onmouseout="parent.tt_off(evt)"/><text x="eval(($1) + 10)"  y="eval(($2) + 4)" class="describer-text-off" id="$3b$4off" onmousemove="parent.tt_on(evt,'$5')" onmouseout="parent.tt_off(evt)">$4</text><text x="eval(($1) + 2)"  y="eval(($2) + 4)" class="describer-text" id="$3b$4" onmousemove="parent.tt_on(evt, '$5')" onmouseout="parent.tt_off(evt)">x</text>])dnl
define([BERTHR], [<polygon points="eval(($1) + 0),eval(($2) + 6) eval(($1) + 0),eval(($2) - 6) eval(($1) + 29),eval(($2) - 6) eval(($1) + 35),eval(($2) + 0) eval(($1) + 29),eval(($2) + 6) " class="describer" id="$3b$4box" onmousemove="parent.tt_on(evt,'$5')" onmouseout="parent.tt_off(evt)"/><text x="eval(($1) + 10)"  y="eval(($2) + 4)" class="describer-text-off" id="$3b$4off" onmousemove="parent.tt_on(evt,'$5')" onmouseout="parent.tt_off(evt)">$4</text><text x="eval(($1) + 2)"  y="eval(($2) + 4)" class="describer-text" id="$3b$4" onmousemove="parent.tt_on(evt,'$5')" onmouseout="parent.tt_off(evt)">x</text>])dnl
define([BERTHU], [<polygon points="eval(($1) + 0),eval(($2) + 6) eval(($1) + 0),eval(($2) - 6) eval(($1) + 10),eval(($2) - 6) eval(($1) + 16),eval(($2) - 12) eval(($1) + 22),eval(($2) - 6) eval(($1) + 32),eval(($2) - 6) eval(($1) + 32),eval(($2) + 6) " class="describer" id="$3b$4box" onmousemove="parent.tt_on(evt,'$5')" onmouseout="parent.tt_off(evt)"/><text x="eval(($1) + 10)"  y="eval(($2) + 4)" class="describer-text-off" id="$3b$4off" onmousemove="parent.tt_on(evt,'$5')" onmouseout="parent.tt_off(evt)">$4</text><text x="eval(($1) + 2)"  y="eval(($2) + 4)" class="describer-text" id="$3b$4" onmousemove="parent.tt_on(evt,'$5')" onmouseout="parent.tt_off(evt)">x</text>])dnl
define([ROUTE], [<rect x="$1" y="eval(($2) - 6)" width="32" height="12" class="describer" id="$3b$4box" onmousemove="parent.tt_on(evt,'$5')" onmouseout="parent.tt_off(evt)"/><text x="eval(($1) + 10)"  y="eval(($2) + 4)" class="describer-text-off" id="$3b$4off" onmousemove="parent.tt_on(evt,'$5')" onmouseout="parent.tt_off(evt)">$4</text><text x="eval(($1) + 2)"  y="eval(($2) + 4)" class="describer-text-route" id="$3b$4" onmousemove="parent.tt_on(evt,'$5')" onmouseout="parent.tt_off(evt)">x</text>])dnl
define([SIGNALUR], [<polyline points="$1,eval(($2)+2) $1,eval(($2)+7) eval(($1)+7),eval(($2)+7)" class="sig-line"/><circle cx="eval(($1)+9)" cy="eval(($2)+7)" r="4" stroke="black" stroke-width="0" fill="black" id="$3s$4s" onmousemove="parent.tt_on(evt,'$5')" onmouseout="parent.tt_off(evt)"/>])dnl
define([SIGNALUL], [<polyline points="$1,eval(($2)-2) $1,eval(($2)-7) eval(($1)+7),eval(($2)-7)" class="sig-line"/><circle cx="eval(($1)+9)" cy="eval(($2)-7)" r="4" stroke="black" stroke-width="0" fill="black" id="$3s$4s" onmousemove="parent.tt_on(evt,'$5')" onmouseout="parent.tt_off(evt)"/>])dnl
define([SIGNALDL], [<polyline points="$1,eval(($2)+2) $1,eval(($2)+7) eval(($1)-7),eval(($2)+7)" class="sig-line"/><circle cx="eval(($1)-9)" cy="eval(($2)+7)" r="4" stroke="black" stroke-width="0" fill="black" id="$3s$4s" onmousemove="parent.tt_on(evt,'$5')" onmouseout="parent.tt_off(evt)"/>])dnl
define([SIGNALDR], [<polyline points="$1,eval(($2)-2) $1,eval(($2)-7) eval(($1)-7),eval(($2)-7)" class="sig-line"/><circle cx="eval(($1)-9)" cy="eval(($2)-7)" r="4" stroke="black" stroke-width="0" fill="black" id="$3s$4s" onmousemove="parent.tt_on(evt,'$5')" onmouseout="parent.tt_off(evt)"/>])dnl
define([SIGNALDLR], [<polyline points="$1,eval(($2)+2) $1,eval(($2)+7) eval(($1)-7),eval(($2)+7)" class="sig-line"/><circle cx="eval(($1)-9)" cy="eval(($2)+7)" r="4" stroke-width="0" fill="red" onmousemove="parent.tt_on(evt,'$3')" onmouseout="parent.tt_off(evt)"/>])dnl
define([SIGNALDRR], [<polyline points="$1,eval(($2)-2) $1,eval(($2)-7) eval(($1)-7),eval(($2)-7)" class="sig-line"/><circle cx="eval(($1)-9)" cy="eval(($2)-7)" r="4" stroke-width="0" fill="red" onmousemove="parent.tt_on(evt,'$3')" onmouseout="parent.tt_off(evt)"/>])dnl
define([ARROWU], [<line x1="$1" y1="$2" x2="eval(($1)+20)" y2="$2" class="arrow"/><polygon points="eval(($1)+20),eval(($2)-2) eval(($1)+20),eval(($2)+2) eval(($1)+26),$2" class="arrow"/>])dnl
define([ARROWD], [<line x1="$1" y1="$2" x2="eval(($1)-20)" y2="$2" class="arrow"/><polygon points="eval(($1)-20),eval(($2)-2) eval(($1)-20),eval(($2)+2) eval(($1)-26),$2" class="arrow"/>])dnl
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<?xml-stylesheet type="text/css" href="/auxy/livesig.css" ?>
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="1260" height="290">
  <g id="layer1">
    <!-- Background -->
    <rect x="0" y="0" width="1260" height="290" class="back" id="diag-bg"/>
    <text class="title-text" x="420" y="20">Wavertree to St Helens and Lea Green</text>

    <!-- Up -->
    <line x1="40"   y1="100" x2="535" y2="100" class="track" />

    <!-- Wavertree -->
    <rect x="50" y="83" width="32" height="10" class="platform" />
    <rect x="50" y="132" width="32" height="10" class="platform" />
    <text x="45" y="75" class="label-text-small">Wavertree</text>
    BERTH(50, 100, M1, 0300)
    
    <text x="122" y="141" class="label-text-small">Down Chat Moss</text>
    ARROWD(170,117)

    <!-- Down -->
    <line x1="180" y1="125" x2="40" y2="125" class="track" />
    <line x1="567" y1="125" x2="180" y2="125" class="track" />
    BERTH(50,125,M1, 0039)
    <!-- Olive Mount Chord-->
    <text x="107"  y="55" class="label-text-small">Olive</text>
    <text x="105"  y="65" class="label-text-small">Mount</text>
    <polyline points="95,80 145,80 165,100 170,100 195,125 200,125" class="track" />
    BERTHR(105, 74, M1, 0400)
    BERTHL(105, 86, M1, 0401)
    BERTH(105, 125, M1, 0301)

    BERTH(200, 100, M1, 0298)
    BERTH(200, 125, M1, 0299)
    <!-- Broad Green -->
    <text x="240" y="70" class="label-text-small">Broad</text>
    <text x="240" y="80" class="label-text-small">Green</text>
    <rect x="240" y="83" width="32" height="10" class="platform" />
    <rect x="240" y="132" width="32" height="10" class="platform" />
    BERTH(280, 100, M1, 0296)
    BERTH(240, 125, M1, 0297)

    BERTH(320, 100, M1, 3592, 3592) SIGNALUL(355, 100, M1, 022, LL3592)

    <!-- Up Slow -->
    <!--H4in--><polyline points="390,100 410,80 600,80 630,50 700,50" class="track"/> 

    <!-- Down -->
    <line x1="567" y1="125" x2="300" y2="125" class="track" />
    BERTH(340, 125, M1, 3593, 3593) SIGNALDL(337, 125, M1, 023, LL3595)
    BERTH(280, 125, M1, 0295)

    <!-- Down Fast -->
    <polyline points="390,125 410,145 535,145" class="track"/>
    <text x="380" y="155" class="label-text-small">Roby</text>
    <text x="385" y="165" class="label-text-small">Jn</text>

    <!-- Roby -->
    <text x="435" y="58" class="label-text-small">Roby</text>
    <rect x="430" y="62.5" width="32" height="10" class="platform" />
    <rect x="430" y="107.5" width="32" height="10" class="platform" />
    <rect x="430" y="152" width="32" height="10" class="platform" />
    <text class="platform-text">
      <tspan x="435" y="71">P4</tspan>
      <tspan x="435" y="160.5">P1</tspan>
    </text>
    <!--H4in-->BERTH(430,80, M1, 5582, 5582)  SIGNALUL(465, 80, M1, 040, LL5582)
    BERTH(430,100, M1, 3590, 3590) SIGNALUR(465,100, M1, 020, LL3590)
    BERTH(430,125, M1, 5583, 5583) SIGNALDL(427, 125, M1, 034, LL5583)
    BERTH(430,145, M1, 3591, 3591) SIGNALDL(427, 145, M1, 021, LL3591)

    <!-- Roby Jn Routes -->
    <polyline points="430,125 372,125" class="route" id="M1s063r"/><!-- Dn Slow -->
    <polyline points="430,145 410,145 390,125 372,125" class="route" id="M1s057r"/><!-- Dn Fast -->
    <polyline points="352,100 430,100" class="route" id="M1s067r"/><!-- Up Fast -->
    <polyline points="352,100 390,100 410,80 430,80" class="route" id="M1s066r"/><!-- Up Slow -->
    <polyline points="462,80 535,80" class="route" id="M1s072r"/><!-- 5582 5580 -->

    <!-- Huyton -->
    <text x="517" y="58" class="label-text-small">Huyton</text>
    <rect x="517" y="62.5" width="32" height="10" class="platform" />
    <rect x="517" y="107.5" width="32" height="10" class="platform" />
    <rect x="517" y="152" width="32" height="10" class="platform" />
    <text class="platform-text">
      <tspan x="522" y="71">P4</tspan>
      <tspan x="522" y="160.5">P1</tspan>
    </text>
    BERTHL(500,80,M1,9593,9593) SIGNALDRR(497,80, [Fixed red LL9593])
    BERTHR(535,80,M1,5580,5580) SIGNALUL(570, 80, M1, 037, LL5580) 
    BERTH(517,100,M1,3586,3586) SIGNALUR(552, 100, M1, 016,LL3586) 
    BERTHL(500,125,M1,5579,5579) SIGNALDL(497,125, M1, 033, LL5579)
    BERTHR(535,125,M1,9588,9588 To Up Chat Moss) SIGNALUL(570,125, M1, 035, LL9588) 
    BERTH(517,145,M1,3587,3587) SIGNALDL(497,145, M1, 017, LL3587)

    <!-- Huyton Jn -->
    <text x="600" y="160" class="label-text-small">Huyton</text>
    <text x="610" y="170" class="label-text-small">Jn</text>
    <polyline points="549,100 635,100 660,125 680,125" class="track"/>  <!-- P3 to Up CM -->
    <polyline points="690,70 655,70 625,100 615,100 590,125 567,125" class="track"/>  <!-- Dn StH to P2 -->
    <polyline points="680,145 549,145" class="track"/><!-- Dn CM to P1 -->
    <polyline points="680,145 610,145 590,125 567,125" class="track"/><!-- Dn CM to P2 -->
    <polyline points="580,80 600,100" class="track"/><!-- P4 connection to Up CM -->
    <!-- Routes -->
    <polyline points="549,100 635,100 660,125 680,125" class="route" id="M1s065r"/> <!-- P3 to Up CM -->
    <polyline points="685,70 655,70 625,100 615,100 590,125 567,125" class="route" id="M1s061r"/> <!-- Dn StH to P2 -->
    <polyline points="680,145 549,145" class="route" id="M1s052r"/> <!-- Dn CM to P1 -->
    <polyline points="680,145 610,145 590,125 567,125" class="route" id="M1s053r"/> <!-- Dn CM to P2 -->
    <polyline points="567,125 590,125 615,100 635,100 660,125 680,125" class="route" id="M1s064r"/> <!-- P2 to Up CM -->
    <polyline points="685,70 655,70 625,100 600,100 580,80 567,80" class="route" id="M1s062r"/><!-- Dn StH to P4 -->
    <polyline points="567,80 580,80 600,100 635,100 660,125 680,125" class="route" id="M1s071r"/><!-- P4 to Up CM -->
    <polyline points="567,80 600,80 630,50 640,50" class="route" id="M1s070r"/><!-- P4 to Up SH -->
    
    <!-- St Helens Lines-->
    <polyline points="640,50 1240,50" class="track"/>
    <polyline points="1240,70 690,70" class="track"/>
    <!-- Pilks loop -->
    <polyline points="937,70 950,70 970,90 1020,90 1040,70 1050,70" class="track"/>
    <polyline points="970,90 1050,90" class="track"/>
    <polyline points="1045,70 1065,50" class="track"/>

    <!-- St Helens xover -->
    <polyline points="1155,70 1160,70 1180,50 1185,50" class="track"/>

    <text x="635" y="35" class="label-text-small">Up St Helens</text>
    ARROWU(700, 32)

    BERTH(640, 50, M1, 3754, 3754) SIGNALUL(675, 50, M1, 031, LL3754)
    BERTH(695, 50, M1, 3750, 3750) SIGNALUL(730, 50, M1, 030, LL3750)
    BERTH(685, 70, M1, 3755, 3755) SIGNALDL(682, 70, M1, 032, LL3755)

    <!-- Prescot -->
    <text x="750" y="30" class="label-text-small">Prescot</text>
    <rect x="750" y="33" width="32" height="10" class="platform" />
    <rect x="750" y="77" width="32" height="10" class="platform" />
    BERTH(750, 50, M1, 3746, 3746) SIGNALUL(785, 50, M1, 026, LL3746)
    BERTH(750, 70, M1, 3749, 3749) SIGNALDL(747, 70, M1, 027, LL3749)

    <text x="795" y="20" class="label-text-small">Eccleston</text>
    <text x="805" y="30" class="label-text-small">Park</text>
    <rect x="800" y="33" width="32" height="10" class="platform" />
    <rect x="800" y="77" width="32" height="10" class="platform" />

    <text x="850" y="20" class="label-text-small">Thatto</text>
    <text x="850" y="30" class="label-text-small">Heath</text>
    <rect x="850" y="33" width="32" height="10" class="platform" />
    <rect x="850" y="77" width="32" height="10" class="platform" />
    BERTH(850, 70, M1, 3745, 3745) SIGNALDL(847, 70, M1, 025, LL3745)

    BERTH(915, 50, WA, S101, SH101) SIGNALUL(950,50,WA,093,SH101)
    BERTHL(908, 76, M1, 3739, 3739) SIGNALDL(902, 70, M1, 024, LL3739)
    BERTHR(908, 64, WA, S109, SH109)

    BERTHL(980, 96, WA, S111)
    BERTHR(980, 84, WA, S105, SH105)

    BERTHR(1069, 44, WA, S002, SH2) SIGNALUL(1105,50,WA,081,SH2)
    BERTHL(1069, 56, WA, S102, [SH102 Shunt to Down line])
    BERTH(1060, 70, WA, S112) SIGNALDL(1057,70,WA,0a2,SH112)

    <text x="1064" y="96" class="label-text-small">To Ravenhead Sidings</text>
    <text x="1110" y="30" class="label-text-small">St Helens</text>
    <rect x="1120" y="33" width="32" height="10" class="platform" />
    <rect x="1120" y="77" width="32" height="10" class="platform" />
    BERTH(1120, 50, WA, S003, SH3)  SIGNALUL(1155,50,WA,082,SH3)
    BERTH(1120, 70, M1, SH22) SIGNALDL(1117,70,WA,091,SH22)
    BERTH(1190, 50, WA, S004, SH4)  SIGNALUL(1225,50,WA,083,SH4)
    BERTH(1190, 70, WA, SHDN) SIGNALDL(1187,70,WA,092,SH23)

    <!-- Chat Moss -->
    <polyline points="730,125  1240,125" class="track"/>
    <polyline points="1240,145  680,145" class="track"/>

    <polyline points="680,125 730,125" class="track"/>
    BERTHL(680, 131, M1, 1577, 1577) SIGNALDR(677, 125, M1, 000, [LL1577 Position Light Signal])
    BERTH(680, 145, M1, 3585, 3585) SIGNALDL(677, 145, M1, 015, LL3585)

    BERTHR(680,  119, M1, 3584, 3584) SIGNALUL(720, 125, M1, 014, LL3584)

    BERTH(780, 125, M1, 3582, 3582) SIGNALUL(815, 125, M1, 013, LL3582)
    BERTH(780, 145, M1, 3581, 3581) SIGNALDL(777, 145, M1, 012, LL3581)

    <text x="700" y="110" class="label-text-small">Up Chat Moss</text>
    ARROWU(770, 107)
    <text x="700" y="165" class="label-text-small">Down Chat Moss</text>
    ARROWD(695, 162)

    BERTH(830,  125, M1, 3580, 3580) SIGNALUL(865, 125, M1, 011, LL3580)

    <text x="880" y="175" class="label-text-small">Whiston</text>
    <rect x="880" y="108" width="32" height="10" class="platform" />
    <rect x="880" y="152" width="32" height="10" class="platform" />
    BERTH(880, 125, M1, 3578, 3578) SIGNALUL(915, 125, M1, 007, LL3578)
    BERTH(880, 145, M1, 3579, 3579) SIGNALDL(877, 145, M1, 010, LL3579)

    BERTH(930, 125, M1, 3576, 3576) SIGNALUL(965,  125, M1, 005, LL3576)
    BERTH(955, 145, M1, 3577, 3577) SIGNALDL(952,  145, M1, 006, LL3577)
    BERTH(980, 125, M1, 3574, 3574) SIGNALUL(1015, 125, M1, 003, LL3574)

    <text x="1030" y="175" class="label-text-small">Rainhill</text>
    <rect x="1030" y="108" width="32" height="10" class="platform" />
    <rect x="1030" y="152" width="32" height="10" class="platform" />
    BERTH(1030, 125, M1, 3572, 3572) SIGNALUL(1065, 125, M1, 001, LL3572)
    BERTH(1030, 145, M1, 3575, 3575) SIGNALDL(1027, 145, M1, 004, LL3575)
    <polyline points="1062,125 1080,125" class="route" id="M1s050r"/> <!-- LL3572 WN589 -->
    <polyline points="1080,145 1062,145" class="route" id="M1s051r"/> <!-- LL3573 LL3575 -->

    BERTH(1080, 125, M1, W589, WN589)
    BERTH(1080, 145, M1, 3573, 3573) SIGNALDL(1077, 145, M1, 002, LL3573)
    BERTH(1120, 125, WA, 0587, WN587)
    BERTH(1120, 145, WA, 0588, WN588)
    <text x="1130" y="175" class="label-text-small">Lea Green</text>
    <rect x="1140" y="108" width="32" height="10" class="platform" />
    <rect x="1140" y="152" width="32" height="10" class="platform" />
    BERTH(1160, 145, WA, 0586, WN586)

    BERTH(1200, 125, WA, 0583, WN583)
    BERTH(1200, 145, WA, 0584, WN584)

    <!-- Clock -->
    <text x="500" y="240" class="clock" id="clock"></text>

    <!-- Info panel --> 
    <rect x="0" y="168" width="400" height="122" class="describer" />

    <text class="info-text">
      <tspan x="4" y="178" id="info0">M1/WA/M0</tspan>
      <tspan x="4" y="188" id="info1">HUYTON/HUYTJUN/LVRPLSH/WVRTTEC/STHLNSC</tspan>
      <tspan x="4" y="198" id="info2"></tspan>
      <tspan x="4" y="208" id="info3"></tspan>
      <tspan x="4" y="218" id="info4"></tspan>
      <tspan x="4" y="228" id="info5"></tspan>
      <tspan x="4" y="238" id="info6"></tspan>
      <tspan x="4" y="248" id="info7"></tspan>
      <tspan x="4" y="258" id="info8"></tspan>
      <tspan x="4" y="268" id="info9"></tspan>
      <tspan x="4" y="278" id="info10"></tspan>
      <tspan x="4" y="288" id="info11">livesig1.svg  -  Build BUILD</tspan>
   </text>

    <!-- Banner -->
    <text class="banner-text">
      <tspan x="410" y="268" id="banner0">Connecting to server ...</tspan>
      <tspan x="410" y="286" id="banner1">Please wait ...</tspan>
    </text>
   </g>
    <!-- Key -->
  <g transform="translate(900 190)">
    <rect x="0" y="0" width="350" height="60" class="key-background" />
    <polyline points="5,10 55,10" class="track" /> 
    <polyline points="5,30 55,30" class="track-off" /> 
    <polyline points="5,50 55,50" class="track" /> <polyline points="5,50 55,50" class="route" style="opacity:1.0"/> 
    <rect x="155" y="4"  width="32" height="12" class="describer"/><text x="157"  y="14" class="describer-text">1A01</text>
    <rect x="155" y="24" width="32" height="12" class="describer"/><text x="167"  y="34" class="describer-text-off">3587</text>
    <polygon points="155,56 155,44 184,44 190,50 184,56" class="describer"/>
    <text class="label-text-small">
      <tspan x="65"  y="14">Track.</tspan>
      <tspan x="65"  y="34">Track out of area.</tspan>
      <tspan x="65"  y="54">Route selected.</tspan>
      <tspan x="195" y="14">Occupied berth showing train ID.</tspan>
      <tspan x="195" y="34">Empty berth showing berth ID.</tspan>
      <tspan x="195" y="54">Berth showing direction.</tspan>
    </text>
   </g>

<!-- Progress wheel and status caption -->
  <g transform="translate(15 30)">
    <text class="caption-text">
      <tspan x="15" y="7" id="caption">Please wait ...</tspan>
    </text>
    <circle cx="0" cy="0" r="10" stroke-width="0" fill="blue" id="progc"/>
    <polygon points="0,0 -3,-8 3,-8" stroke-width="0" fill="white" id="progress" />
  </g>
  <rect class="tooltip_box" id="ttb" x="0" y="0" rx="4" ry="4" width="55" height="33" visibility="hidden"/>
  <text class="tooltip" id="tt1" x="0" y="0" visibility="hidden">Z</text>
  <text class="tooltip" id="tt2" x="0" y="0" visibility="hidden">Z</text>

</svg>

